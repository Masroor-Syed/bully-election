{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Process from \"./Process.svelte\";\n  import Arrow from \"./Arrow.svelte\";\n  import { Simulation } from \"./index.js\";\n  import { onMount } from \"svelte\";\n\n  let pcount = 4;\n  let starter = 1;\n  let processViews;\n\n  let interval;\n\n  function setSpeedStep() {\n    clearInterval(interval);\n  }\n\n  function setSpeedRegular() {\n    clearInterval(interval);\n    interval = setInterval(() => {\n      handleClick();\n    }, 1000);\n  }\n\n  function setSpeedFast() {\n    clearInterval(interval);\n    interval = setInterval(() => {\n      handleClick();\n    }, 300);\n  }\n\n  $: sim = new Simulation(pcount,starter);\n\n  function getViewsFrom(s) {\n    if (sim) {\n      if (!sim.processes) {\n        return [];\n      }\n    }\n    return sim.processes.map(p => p.getState());\n  }\n\n  // get process info for rendering\n  $: processViews = [...getViewsFrom(sim)];\n\n  function handleClick() {\n    sim.step();\n    processViews = sim.processes.map(p => p.getState());\n  }\n\n  onMount(() => {\n    return () => {\n      clearInterval(interval);\n    };\n  });\n\n  let w_width = 786;\n  let w_height = 576;\n  $: svg_side = Math.min(w_width - 400, w_height);\n  let svg_wh = 650;\n</script>\n\n<style>\n  div#options {\n    border: 4px dotted blue;\n    top: 1rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height : 80%;\n  }\n  div.option {\n    margin: 1rem;\n  }\n  #procs {\n    text-align: left;\n  }\n  #procs div {\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem;\n    flex: 1;\n  }\n  #procs div input {\n    padding: 0.5rem;\n    margin: 0rem 1rem 0rem 0rem;\n  }\n  #times div div {\n    display: flex;\n    justify-content: space-evenly;\n  }\n  #times div div input {\n    margin: 0;\n    padding: 0;\n    width: 3rem;\n  }\n  #times div div span {\n    /* min-width: 4rem; */\n    align-self: flex-end;\n    text-align: end;\n    height: 100%;\n    padding: 0 0.25rem 0 0;\n  }\n  #speed {\n    display: flex;\n    justify-content: stretch;\n  }\n  #speed button {\n    flex: 1;\n    margin: 0rem 0.25rem;\n    padding: 0.125rem;\n    text-align: center;\n  }\n  #speed button svg {\n    width: 1rem;\n    height: 1rem;\n  }\n  #stepper {\n    display: flex;\n  }\n  #step {\n    flex: 1;\n    margin: 0rem 0.25rem;\n  }\n  #times div {\n    text-align: left;\n  }\n  main {\n    padding: 0;\n    margin: 0 auto;\n  }\n  h1 {\n    color: #ff3e00;\n    text-transform: uppercase;\n    font-size: 4em;\n    font-weight: 100;\n    margin-top : 0;\n    text-align: center;\n  }\n  #container {\n    display: flex;\n    flex-direction: row-reverse;\n    margin: auto;\n    justify-content: center;\n  }\n  #sim {\n    display: flex;\n    justify-content: center;\n  }\n  #msgs {\n    display: flex;\n    justify-content: start;\n    text-align: start;\n    margin: 20px;\n  }\n</style>\n\n<svelte:window bind:innerWidth={w_width} bind:innerHeight={w_height} />\n<main>\n  <div>\n    <h1>Bully Election Simulation</h1> \n  </div>\n  <div id=\"container\">\n    <div id =\"sim\">\n      <svg viewBox=\"50 -50 800 800\" width={svg_wh} height={svg_wh}>\n        <defs>\n          <marker\n            id=\"head\"\n            orient=\"auto\"\n            markerWidth=\"2\"\n            markerHeight=\"4\"\n            refX=\"0.1\"\n            refY=\"2\">\n            <!-- triangle pointing right (+x) -->\n            <path d=\"M0,0 V4 L2,2 Z\" fill=\"black\" />\n          </marker>\n        </defs>\n\n        {#each processViews as p, i}\n          <Process\n            {...p}\n            xloc={450 + 250 * Math.sin(((2 * Math.PI) / pcount) * i)}\n            yloc={300 + 250 * -Math.cos(((2 * Math.PI) / pcount) * i)} />\n\n          <!-- arrow logic TODO  -->\n          {#if p.active}\n            <!-- loop over its arrows and draw them -->\n            {#each p.arrows as dir, i}\n              <Arrow from={dir.from} to={dir.to} {pcount} text={dir.msg}/>\n            {/each}\n          {/if}\n        {/each}\n      </svg>\n    \n    </div>\n    <div id=\"options\">\n      <h2>Options</h2>\n      <div id=\"procs\" class=\"option\">\n        <b># Processes:</b>\n        <div>\n          <input type=\"range\" bind:value={pcount} min=\"2\" max=\"7\" />\n          <span>{pcount}</span>\n        </div>\n      </div>\n\n      <div id=\"times\" class=\"option\">\n        <b>Process starting election</b>\n        <div id=\"code\">\n          <div class=\"range\">\n            <input type=\"number\" bind:value={starter} min={2} max={pcount} />\n          </div>\n        </div>\n      </div>\n\n      <div id=\"speed\" class=\"option\">\n\n        <button id=\"manual\" on:click={setSpeedStep}>\n          <svg viewbox=\"0 0 50 50\">\n            <g xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1_1_\">\n              <path d=\"M23,49V1H11v48H23z M13,3h8v44h-8V3z\" />\n              <path d=\"M39,49V1H27v48H39z M29,3h8v44h-8V3z\" />\n            </g>\n          </svg>\n        </button>\n        <button id=\"default\" on:click={setSpeedRegular}>\n          <svg viewbox=\"0 0 50 50\">\n            <path\n              xmlns=\"http://www.w3.org/2000/svg\"\n              d=\"M7,1.217v47.566L45.918,25L7,1.217z\n              M9,4.783L42.082,25L9,45.217V4.783z\" />\n\n          </svg>\n        </button>\n        <button id=\"fast\" on:click={setSpeedFast}>\n          <svg viewbox=\"0 0 50 50\">\n            <path\n              xmlns=\"http://www.w3.org/2000/svg\"\n              d=\"M24,49.414L48.414,25L24,0.586v23l-23-23v48.828l23-23V49.414z\n              M3,44.586V5.414L22.586,25L3,44.586z M26,5.414L45.586,25\n              L26,44.586V5.414z\" />\n          </svg>\n        </button>\n      </div>\n      <div id=\"stepper\" class=\"option\">\n        <button id=\"step\" on:click={handleClick}>Step</button>\n      </div>\n    </div>\n  </div>\n  <div>\n    <h2> Process Messages </h2>\n    <div id=\"msgs\" class=\"option\">\n        {#each processViews as p, i}\n          <p>{p.name}: {p.text}</p>\n        {/each}\n      </div>\n  </div>\n\n</main>\n"
  ],
  "names": [],
  "mappings": "AA8DE,GAAG,QAAQ,0CAAC,CAAC,AACX,MAAM,CAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CACvB,GAAG,CAAE,IAAI,CACT,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,eAAe,CAAE,MAAM,CACvB,MAAM,CAAG,GAAG,AACd,CAAC,AACD,GAAG,OAAO,0CAAC,CAAC,AACV,MAAM,CAAE,IAAI,AACd,CAAC,AACD,MAAM,0CAAC,CAAC,AACN,UAAU,CAAE,IAAI,AAClB,CAAC,AACD,kCAAM,CAAC,GAAG,4BAAC,CAAC,AACV,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,OAAO,CAAE,MAAM,CACf,IAAI,CAAE,CAAC,AACT,CAAC,AACD,oBAAM,CAAC,iBAAG,CAAC,KAAK,cAAC,CAAC,AAChB,OAAO,CAAE,MAAM,CACf,MAAM,CAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,AAC7B,CAAC,AACD,oBAAM,CAAC,iBAAG,CAAC,GAAG,cAAC,CAAC,AACd,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,YAAY,AAC/B,CAAC,AACD,oBAAM,CAAC,iBAAG,CAAC,GAAG,CAAC,KAAK,cAAC,CAAC,AACpB,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,CACV,KAAK,CAAE,IAAI,AACb,CAAC,AACD,MAAM,CAAC,+BAAG,CAAC,GAAG,CAAC,IAAI,4BAAC,CAAC,AAEnB,UAAU,CAAE,QAAQ,CACpB,UAAU,CAAE,GAAG,CACf,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,AACxB,CAAC,AACD,MAAM,0CAAC,CAAC,AACN,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,OAAO,AAC1B,CAAC,AACD,kCAAM,CAAC,MAAM,4BAAC,CAAC,AACb,IAAI,CAAE,CAAC,CACP,MAAM,CAAE,IAAI,CAAC,OAAO,CACpB,OAAO,CAAE,QAAQ,CACjB,UAAU,CAAE,MAAM,AACpB,CAAC,AACD,kCAAM,CAAC,MAAM,CAAC,GAAG,4BAAC,CAAC,AACjB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACd,CAAC,AACD,QAAQ,0CAAC,CAAC,AACR,OAAO,CAAE,IAAI,AACf,CAAC,AACD,KAAK,0CAAC,CAAC,AACL,IAAI,CAAE,CAAC,CACP,MAAM,CAAE,IAAI,CAAC,OAAO,AACtB,CAAC,AACD,kCAAM,CAAC,GAAG,4BAAC,CAAC,AACV,UAAU,CAAE,IAAI,AAClB,CAAC,AACD,IAAI,0CAAC,CAAC,AACJ,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,CAAC,CAAC,IAAI,AAChB,CAAC,AACD,EAAE,0CAAC,CAAC,AACF,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,CAChB,UAAU,CAAG,CAAC,CACd,UAAU,CAAE,MAAM,AACpB,CAAC,AACD,UAAU,0CAAC,CAAC,AACV,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,WAAW,CAC3B,MAAM,CAAE,IAAI,CACZ,eAAe,CAAE,MAAM,AACzB,CAAC,AACD,IAAI,0CAAC,CAAC,AACJ,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,AACzB,CAAC,AACD,KAAK,0CAAC,CAAC,AACL,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,KAAK,CACtB,UAAU,CAAE,KAAK,CACjB,MAAM,CAAE,IAAI,AACd,CAAC"
}